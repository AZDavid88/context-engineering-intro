---
description: Complex legacy project resolution using FPT framework with comprehensive report synthesis and systematic remediation
allowed-tools: LS, Glob, Grep, Read, Write, Edit, MultiEdit, Task
argument-hint: [project-path] - Path to complex legacy project requiring systematic resolution
---

# CODEFARM Complex Legacy Resolution Command v1.0
**"Gordian Knot" Project Systematization**

**Target Project:** $ARGUMENTS

## CODEFARM Multi-Agent Activation (FPT-Enhanced)

**CodeFarmer (Strategic Resolution Architect):** "I'll synthesize all project reports and apply First Principle Thinking to decompose complex issues into systematic resolution plans."

**Critibot (Safety & Risk Validator):** "I'll ensure every resolution step prioritizes safety, validates against evidence, and includes comprehensive rollback procedures."

**Programmatron (Systematic Implementation Designer):** "I'll create detailed, executable resolution plans with clear success criteria and validation checkpoints."

**TestBot (Resolution Validation Controller):** "I'll validate every aspect of the resolution plan against real project evidence and systematic methodology compliance."

---

## Phase A: Comprehensive Report Discovery & Intelligence Gathering

### Step 1: Project Context & Report Auto-Discovery

**CodeFarmer Strategic Context Analysis:**

**Using LS tool to understand project structure and complexity**
Using LS tool with path: $ARGUMENTS to analyze project organization and scale

**Using Glob tool to discover existing CODEFARM analysis reports**
Using Glob tool with path: $ARGUMENTS and pattern: "*report*.md" to find health audit reports
Using Glob tool with path: $ARGUMENTS and pattern: "*analysis*.md" to find systematization analysis
Using Glob tool with path: $ARGUMENTS and pattern: "*checklist*.md" to find methodology compliance reports
Using Glob tool with path: $ARGUMENTS and pattern: "*strategy*.md" to find testing and risk mitigation reports

**Using Glob tool to assess project scale and complexity indicators**
Using Glob tool with path: $ARGUMENTS and pattern: "*.py" to count Python implementation files
Using Glob tool with path: $ARGUMENTS and pattern: "*.md" to count documentation files
Using Glob tool with path: $ARGUMENTS and pattern: "*.txt" to find requirements and configuration files

**Using Grep tool to identify technical debt and complexity markers**
Using Grep tool with path: $ARGUMENTS, pattern: "TODO|FIXME|BUG|HACK|REFACTOR", output_mode: "count", and glob: "*.py" to quantify technical debt
Using Grep tool with path: $ARGUMENTS, pattern: "import|from", output_mode: "count", and glob: "*.py" to assess dependency complexity

### Step 2: Report Content Analysis & Synthesis Preparation

**Programmatron Systematic Report Analysis:**

**Using Read tool to analyze discovered reports for comprehensive understanding**
Reading each discovered report file to extract:
- Critical issues and methodology violations
- Risk assessments and priority rankings  
- Technical debt quantification and impact analysis
- Systematic compliance gaps and remediation requirements
- Integration complexity and dependency analysis

**Report Classification Framework:**
- **Health Audit Reports**: Critical issues, risk assessment, methodology violations
- **Systematization Reports**: Structure analysis, compliance gaps, remediation plans
- **Technical Reports**: Implementation analysis, dependency mapping, performance assessment
- **Strategic Reports**: Business impact, resource requirements, timeline estimates

---

## Phase B: First Principle Thinking Analysis & Problem Decomposition

### Step 3: FPT-Based Root Cause Analysis

**CodeFarmer FPT Strategic Decomposition:**

**First Principle Analysis Framework:**

**1. FUNDAMENTAL TRUTH IDENTIFICATION**
- What are the core purposes this system must fulfill?
- What are the immutable constraints and requirements?
- What are the genuine technical necessities vs accumulated complexity?

**2. ASSUMPTION CHALLENGE**
- Which current architectural decisions are based on assumptions vs evidence?
- What legacy patterns persist without current justification?
- Where does complexity serve genuine needs vs historical accident?

**3. SYSTEMATIC DECOMPOSITION**
- Break complex problems into independent, solvable components
- Identify root causes vs symptoms for each major issue
- Map interdependencies and critical resolution sequencing

**4. EVIDENCE-BASED VALIDATION**
- Validate all analysis against concrete project evidence
- Ensure resolution strategies address genuine needs
- Confirm safety and reversibility of all proposed changes

### Step 4: Critical Issue Correlation & Priority Matrix

**Critibot Enhanced Risk Analysis:**

**Multi-Report Issue Correlation:**
- Cross-reference critical issues across all discovered reports
- Identify hidden dependencies between seemingly separate problems
- Validate risk assessments against actual project evidence
- Challenge priority rankings for evidence-based accuracy

**FPT-Based Priority Matrix:**
```
PRIORITY 1 - FUNDAMENTAL BLOCKERS (Address First):
- Issues that prevent basic system functionality
- Methodology violations that compound other problems
- Safety risks that could cause data loss or system failure

PRIORITY 2 - SYSTEMATIC FOUNDATION (Build Upon):
- Architecture improvements that enable other fixes
- Process implementations that prevent issue recurrence
- Testing infrastructure that validates ongoing changes

PRIORITY 3 - OPTIMIZATION OPPORTUNITIES (Enhance Performance):
- Performance improvements with measurable impact
- User experience enhancements with clear value
- Technical debt reduction with long-term benefit
```

---

## Phase C: Systematic Resolution Strategy Development

### Step 5: FPT-Enhanced Resolution Planning

**Programmatron Systematic Resolution Architecture:**

**For Each Priority 1 Issue - Fundamental Resolution Design:**

**Root Cause Analysis:**
- Apply FPT to identify genuine underlying causes
- Distinguish between symptoms and fundamental problems
- Validate analysis against multiple report sources

**Resolution Strategy Design:**
- Design minimal viable solutions addressing root causes
- Ensure solutions are reversible and incremental
- Plan comprehensive validation at each step

**Safety-First Implementation Plan:**
- Complete backup procedures before any changes
- Incremental implementation with validation checkpoints
- Rollback procedures tested and ready at each stage

**Success Criteria Definition:**
- Measurable outcomes confirming issue resolution
- Integration testing requirements for change validation
- Performance benchmarks confirming no degradation

### Step 6: Complex File Systematization Strategy (FPT-Based)

**TestBot File Splitting Validation Framework:**

**For methodology-violating large files (>500 lines):**

**FPT Analysis of File Structure:**
- Identify genuine functional boundaries vs arbitrary organization
- Analyze import dependencies and coupling patterns
- Validate splitting strategies against actual usage patterns

**Systematic Splitting Strategy:**
```
1. RESPONSIBILITY ANALYSIS:
   - Map each function/class to its core responsibility
   - Identify natural module boundaries based on actual coupling
   - Validate boundaries against import and usage patterns

2. DEPENDENCY PRESERVATION:
   - Ensure all import relationships remain functional
   - Plan interface contracts between split modules
   - Validate external integrations remain unchanged

3. INCREMENTAL SPLITTING:
   - Phase 1: Create new module structure with imports
   - Phase 2: Move functions with comprehensive testing
   - Phase 3: Validate integration and performance
   - Phase 4: Clean up old file and update imports

4. SAFETY VALIDATION:
   - Comprehensive test suite execution at each phase
   - Performance benchmarking to ensure no degradation
   - Integration testing with external systems
   - Rollback procedures tested and ready
```

---

## Phase D: Comprehensive Resolution Implementation Plan

### Step 7: Master Resolution Roadmap Generation

**CodeFarmer Strategic Implementation Planning:**

**Week-by-Week Resolution Roadmap:**

**WEEK 1 - FOUNDATION & SAFETY**
- Complete project backup and validation
- Implement basic testing infrastructure gaps
- Address critical safety and data integrity issues
- Establish resolution validation framework

**WEEK 2-3 - SYSTEMATIC FILE RESOLUTION**
- Execute file systematization for Priority 1 violations
- Implement comprehensive testing for split modules
- Validate all external integrations remain functional
- Performance benchmarking and optimization

**WEEK 4-5 - ARCHITECTURE & INTEGRATION**
- Address systematic architecture improvements
- Implement methodology compliance enhancements
- Resolve dependency complexity and technical debt
- Integration testing and system validation

**WEEK 6+ - OPTIMIZATION & ENHANCEMENT**
- Performance optimization and user experience improvements
- Advanced testing and quality assurance implementation
- Documentation and knowledge transfer completion
- Long-term maintenance and monitoring setup

### Step 8: Resolution Validation & Success Measurement

**TestBot Comprehensive Validation Framework:**

**Resolution Success Criteria:**
- [ ] All Priority 1 issues resolved with evidence-based validation
- [ ] 100% functionality preservation confirmed through testing
- [ ] No performance degradation measured across all operations
- [ ] All external integrations working without partner changes required
- [ ] Methodology compliance achieved (all files <500 lines, proper structure)
- [ ] Technical debt reduction measurable and validated
- [ ] Team onboarding and knowledge transfer completed

**Ongoing Validation Procedures:**
- Automated testing suite execution after each change
- Performance monitoring with baseline comparison
- Integration testing with external services
- Code quality metrics tracking and improvement
- Methodology compliance validation and enforcement

---

## Phase E: Implementation Artifacts & Documentation Generation

### Step 9: Comprehensive Resolution Documentation

**Programmatron Implementation Documentation:**

**Created Artifacts:**

**1. Master Resolution Plan** (`gordian_resolution_master_plan.md`)
- Comprehensive analysis synthesis from all reports
- FPT-based problem decomposition and root cause analysis
- Week-by-week implementation roadmap with success criteria
- Risk mitigation strategies and rollback procedures

**2. File Systematization Guide** (`file_systematization_implementation.md`)
- Detailed splitting strategies for each methodology-violating file
- Import dependency mapping and preservation procedures
- Testing validation requirements for each split operation
- Performance benchmarking and integration validation plans

**3. Safety & Validation Checklist** (`gordian_safety_validation.md`)
- Comprehensive backup and rollback procedures
- Testing requirements and validation checkpoints
- Integration testing protocols and success criteria
- Performance monitoring and degradation detection procedures

**4. Progress Tracking Dashboard** (`gordian_progress_tracker.md`)
- Task completion tracking with evidence-based validation
- Success criteria measurement and milestone confirmation
- Risk tracking and mitigation status monitoring
- Team coordination and communication protocols

### Step 10: Quality Gates & Systematic Validation

**CODEFARM Multi-Agent Final Validation:**

**CodeFarmer Strategic Validation:**
- [ ] Resolution plan addresses all critical issues identified across reports
- [ ] FPT analysis provides genuine root cause understanding vs symptom treatment
- [ ] Implementation roadmap realistic with measurable success criteria
- [ ] Strategic approach enables long-term systematic development capability

**Critibot Safety & Evidence Validation:**
- [ ] Every resolution step backed by concrete evidence from project analysis
- [ ] All safety procedures comprehensive with tested rollback capabilities
- [ ] Risk assessments accurate and mitigation strategies proven effective
- [ ] No resolution confidence without systematic validation procedures

**Programmatron Implementation Quality Validation:**
- [ ] All implementation plans detailed and immediately executable
- [ ] File systematization strategies preserve functionality with evidence-based validation
- [ ] Technical approaches proven effective with systematic methodology integration
- [ ] Documentation comprehensive and supports ongoing development

**TestBot Resolution Effectiveness Validation:**
- [ ] All proposed solutions validated against actual project evidence
- [ ] Testing and validation procedures comprehensive and systematically applied
- [ ] Success criteria measurable with objective validation methods
- [ ] Implementation plan proven feasible with realistic resource and timeline estimates

---

## Anti-Hallucination & FPT Validation Framework

### Evidence-Based Analysis Requirements:
- [ ] No analysis conclusions without concrete evidence from discovered reports
- [ ] No resolution strategies without validation against actual project constraints
- [ ] No implementation confidence without systematic testing and validation procedures
- [ ] No file splitting recommendations without dependency analysis and coupling validation

### First Principle Thinking Validation:
- [ ] All problem decomposition based on fundamental system purposes vs assumed requirements
- [ ] Root cause analysis validated against multiple evidence sources
- [ ] Resolution strategies address genuine needs vs accumulated complexity patterns
- [ ] Implementation approaches proven effective through systematic methodology principles

---

## Success Criteria & Confidence Assessment

### Systematic Resolution Effectiveness:
- **Report Synthesis Quality**: ___/10 (comprehensive analysis across all discovered reports)
- **FPT Analysis Depth**: ___/10 (genuine root cause understanding vs symptom treatment)
- **Resolution Strategy Validity**: ___/10 (evidence-based solutions addressing fundamental causes)
- **Implementation Feasibility**: ___/10 (realistic plans with comprehensive validation procedures)
- **Safety & Risk Management**: ___/10 (comprehensive backup, rollback, and validation procedures)
- **Overall Gordian Resolution Quality**: ___/10 (systematic complex legacy project resolution capability)

**Threshold for implementation**: Overall score â‰¥ 8.5/10 WITH Safety & Risk Management â‰¥ 9/10

### Resolution Implementation Decision Framework:
**If score â‰¥ 8.5/10 + Safety â‰¥ 9/10:**
1. Execute master resolution plan with comprehensive validation
2. Implement file systematization with safety-first approach
3. Monitor progress against success criteria with evidence-based measurement
4. Document lessons learned for future complex legacy project resolution

**If score < 8.5/10 OR Safety < 9/10:**
1. Refine analysis with additional evidence gathering and FPT decomposition
2. Enhance safety procedures and validation frameworks
3. Validate implementation plans against systematic methodology requirements
4. Ensure comprehensive understanding before execution

---

**ðŸŽ¯ CODEFARM Complex Legacy Resolution Complete**: Systematic "Gordian Knot" project resolution using FPT framework with comprehensive report synthesis, evidence-based analysis, and safety-first implementation approach ready for complex legacy project systematization.